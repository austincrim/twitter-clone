# Migration `20200715124744-add-created-at`

This migration has been generated by Crim, Austin at 7/15/2020, 12:47:44 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
PRAGMA foreign_keys=OFF;

CREATE TABLE "new_Tweet" (
"authorId" INTEGER ,
"createdAt" DATE NOT NULL DEFAULT CURRENT_TIMESTAMP,
"id" INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
"text" TEXT NOT NULL,FOREIGN KEY ("authorId") REFERENCES "User"("id") ON DELETE SET NULL ON UPDATE CASCADE)

INSERT INTO "new_Tweet" ("authorId", "id", "text") SELECT "authorId", "id", "text" FROM "Tweet"

PRAGMA foreign_keys=off;
DROP TABLE "Tweet";;
PRAGMA foreign_keys=on

ALTER TABLE "new_Tweet" RENAME TO "Tweet";

PRAGMA foreign_key_check;

PRAGMA foreign_keys=ON;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200714154800-create-db..20200715124744-add-created-at
--- datamodel.dml
+++ datamodel.dml
@@ -2,24 +2,25 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "sqlite"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
 }
 model Tweet {
-  id Int @default(autoincrement()) @id
-  text String
-  author User? @relation(fields: [authorId], references: [id])
-  authorId Int?
+  id        Int      @default(autoincrement()) @id
+  text      String
+  createdAt DateTime @default(now())
+  author    User?    @relation(fields: [authorId], references: [id])
+  authorId  Int?
 }
 model User {
-  id Int @default(autoincrement()) @id
+  id       Int     @default(autoincrement()) @id
   username String
   password String
-  tweets Tweet[]
-}
+  tweets   Tweet[]
+}
```


